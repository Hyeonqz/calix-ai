# Implementation Plan: SVG Import 에러 수정

**작성일**: 2026-01-11
**작업 유형**: Bug Fix
**난이도**: Low

---

## 1. 작업 목표 및 범위

### 목표
localhost:3000 접속 시 발생하는 "Element type is invalid" 에러 수정

### 범위
- @svgr/webpack 설치 및 설정
- Next.js webpack 설정 추가
- SVG 파일을 React 컴포넌트로 사용할 수 있도록 설정

### 범위 외
- 템플릿 구조 변경
- 새로운 기능 추가

---

## 2. 현재 상태 분석

### 문제 상황
```bash
Error occurred prerendering page "/dashboard"
Error: Element type is invalid: expected a string (for built-in components)
or a class/function (for composite components) but got: object.
```

### 원인
- `src/icons/index.tsx`에서 SVG 파일들을 React 컴포넌트로 import
- Next.js 기본 설정에서는 SVG가 URL 문자열로 import됨
- @svgr/webpack이 설치되어 있지 않아 SVG를 컴포넌트로 변환할 수 없음

### 영향받는 파일
- `src/components/Sidebar/AppSidebar.tsx` - 아이콘 사용
- `src/icons/index.tsx` - SVG import
- `next.config.ts` - webpack 설정 필요

---

## 3. 구현 단계별 상세 계획

### Phase 1: 의존성 설치
**작업 내용**:
1. @svgr/webpack 설치
   ```bash
   npm install --save-dev @svgr/webpack
   ```

**예상 산출물**:
- 업데이트된 package.json
- 업데이트된 package-lock.json

---

### Phase 2: Next.js 설정 업데이트
**작업 내용**:
1. next.config.ts 수정하여 webpack 설정 추가:
   ```typescript
   const nextConfig: NextConfig = {
     webpack(config) {
       config.module.rules.push({
         test: /\.svg$/,
         use: ["@svgr/webpack"],
       });
       return config;
     },
   };
   ```

**예상 산출물**:
- 업데이트된 next.config.ts

---

### Phase 3: 빌드 테스트
**작업 내용**:
1. 프로젝트 빌드:
   ```bash
   npm run build
   ```
2. 에러 확인 및 해결

**예상 산출물**:
- 성공적인 빌드 결과

---

### Phase 4: 개발 서버 테스트
**작업 내용**:
1. 개발 서버 실행:
   ```bash
   npm run dev
   ```
2. localhost:3000 접속
3. 대시보드 페이지 렌더링 확인
4. 사이드바 아이콘 표시 확인

**예상 산출물**:
- 정상 작동하는 대시보드

---

## 4. 예상 리스크 및 대응 방안

### 리스크 1: TypeScript 타입 에러
**리스크**: SVG import 시 TypeScript 타입 정의 누락

**대응 방안**:
- `types/svg.d.ts` 파일 생성
- SVG 모듈 타입 정의 추가

**영향도**: Low
**발생 가능성**: Medium

---

### 리스크 2: 다른 webpack 설정과 충돌
**리스크**: 기존 webpack 설정과 충돌 가능성

**대응 방안**:
- webpack 설정 테스트
- 필요시 설정 조정

**영향도**: Low
**발생 가능성**: Low

---

## 5. 테스트 전략

### 5.1 빌드 테스트
- [ ] `npm run build` 성공
- [ ] TypeScript 컴파일 에러 없음
- [ ] 모든 페이지 정적 생성 성공

### 5.2 런타임 테스트
- [ ] 개발 서버 정상 실행
- [ ] 대시보드 페이지 렌더링
- [ ] 사이드바 아이콘 표시
- [ ] 헤더 아이콘 표시
- [ ] 다크 모드 토글 작동

### 5.3 브라우저 콘솔 확인
- [ ] JavaScript 에러 없음
- [ ] 경고 메시지 확인

---

## 6. 롤백 계획

**롤백 시나리오**:
1. 의존성 설치 실패 → package.json 원복
2. 빌드 실패 → next.config.ts 원복
3. 런타임 에러 → 전체 변경사항 원복

**백업 대상**:
- package.json
- next.config.ts

---

## 7. 예상 작업 시간

- Phase 1: 의존성 설치 (1분)
- Phase 2: Next.js 설정 (2분)
- Phase 3: 빌드 테스트 (2분)
- Phase 4: 개발 서버 테스트 (2분)

총 예상 시간: 약 7분

---

## 승인 여부

이 계획을 검토해주시고 승인 또는 수정 요청을 부탁드립니다.

- [ ] 승인 - 즉시 진행
- [ ] 수정 필요 - 피드백 반영
- [ ] 보류 - 추가 논의 필요
